<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Python基础-函数和lambda表达式 | FORKX</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Python基础-函数和lambda表达式</h1><a id="logo" href="/.">FORKX</a><p class="description">while there is life,there is hope</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 主页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Python基础-函数和lambda表达式</h1><div class="post-meta">Sep 9, 2019<span> | </span><span class="category"><a href="/categories/Python/">Python</a></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#Python基础-函数和lambda表达式"><span class="toc-number">1.</span> <span class="toc-text">Python基础-函数和lambda表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#函数的定义以及参数"><span class="toc-number">1.1.</span> <span class="toc-text">函数的定义以及参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#函数变量的作用域"><span class="toc-number">1.2.</span> <span class="toc-text">函数变量的作用域</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#函数的用法和lambda表达式"><span class="toc-number">1.3.</span> <span class="toc-text">函数的用法和lambda表达式</span></a></li></ol></li></ol></div></div><div class="post-content"><h4 id="Python基础-函数和lambda表达式"><a href="#Python基础-函数和lambda表达式" class="headerlink" title="Python基础-函数和lambda表达式"></a>Python基础-函数和lambda表达式</h4><hr>
<blockquote>
<p>主要介绍函数的用法，函数的参数以及lambda表达式</p>
</blockquote>
<h5 id="函数的定义以及参数"><a href="#函数的定义以及参数" class="headerlink" title="函数的定义以及参数"></a>函数的定义以及参数</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">函数 封装特定功能的代码块 可重复调用</span></span><br><span class="line"><span class="string">def 关键字定义函数</span></span><br><span class="line"><span class="string">def f_name(args):</span></span><br><span class="line"><span class="string">    [return result]</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_two_num</span><span class="params">(a, b)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    这是函数的说明文档</span></span><br><span class="line"><span class="string">    add_two_num(a, b) 返回a和b的和</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用函数</span></span><br><span class="line">s = add_two_num(<span class="number">10</span>, <span class="number">15</span>)</span><br><span class="line">print(s)</span><br><span class="line"><span class="comment"># help()函数查看文档 或者 调用函数的__doc__</span></span><br><span class="line">print(help(add_two_num))</span><br><span class="line">print(add_two_num.__doc__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 多个返回值 可以直接返回多个 会封装成元组</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_and_avg</span><span class="params">(l_list)</span>:</span></span><br><span class="line">    the_sum = <span class="number">0</span></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> e <span class="keyword">in</span> l_list:</span><br><span class="line">        the_sum += e</span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> the_sum, the_sum / count</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">l_l = [<span class="number">10</span>, <span class="number">30</span>, <span class="number">20</span>]</span><br><span class="line">tp = sum_and_avg(l_l)</span><br><span class="line">print(tp)</span><br><span class="line">s, avg = sum_and_avg(l_l)</span><br><span class="line">print(<span class="string">"总和：%s,平局值:%s"</span> % (s, avg))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 递归函数 函数内部调用函数 类似循环 需要向已知方向结束函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fn</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> n * fn(n - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(fn(<span class="number">6</span>))</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">关键字参数</span></span><br><span class="line"><span class="string">1.调用参数使用参数名来传入参数 称为关键字参数 可以不按照参数顺序传入</span></span><br><span class="line"><span class="string">2.不使用参数名出入参数 称为位置参数 需要按照参数位置顺序传入</span></span><br><span class="line"><span class="string">3.调用时位置参数要在前，关键在参数在后</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">girth</span><span class="params">(width, height)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * (width + height)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 位置参数</span></span><br><span class="line">print(girth(<span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line"><span class="comment"># 关键字参数</span></span><br><span class="line">print(girth(height=<span class="number">3</span>, width=<span class="number">2</span>))</span><br><span class="line"><span class="comment"># 混用 位置参数必须在前</span></span><br><span class="line">print(girth(<span class="number">2</span>, height=<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">默认关键字 定义函数式指定参数默认值 有默认值的参数必须在最后 </span></span><br><span class="line"><span class="string">调用时有默认值的参数可以不传参</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">say_hi</span><span class="params">(name, message=<span class="string">'hello'</span>)</span>:</span></span><br><span class="line">    print(<span class="string">"my name is %s,%s"</span> % (name, message))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">say_hi(<span class="string">'joke'</span>, <span class="string">'hi'</span>)</span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">多参数</span></span><br><span class="line"><span class="string">1.参数前面加一个星号 * 多参数转成元组 最多一个</span></span><br><span class="line"><span class="string">2.参数前面加2个星号 ** 关键字多参数 转成字典 最多一个</span></span><br><span class="line"><span class="string">** 要在一个 * 后面</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">(x, y, *book, z=<span class="number">3</span>, **scores, )</span>:</span></span><br><span class="line">    print(x, y, z)</span><br><span class="line">    print(book)</span><br><span class="line">    print(scores)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">test(<span class="number">1</span>, <span class="number">2</span>, <span class="string">"first use python"</span>, <span class="string">"learn python"</span>, z=<span class="number">10</span>, 语文=<span class="number">90</span>, 数学=<span class="number">99</span>, 英语=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">逆向参数收集 将元组 列表 字典等前面加星号* 字典两个* 自动拆开传入函数 </span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_second</span><span class="params">(name, message)</span>:</span></span><br><span class="line">    print(<span class="string">"name is %s , this is message:%s"</span> % (name, message))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">the_list = [<span class="string">'joke'</span>, <span class="string">'hello python'</span>]</span><br><span class="line">test_second(*the_list)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">coo</span><span class="params">(name, *tu)</span>:</span></span><br><span class="line">    print(name)</span><br><span class="line">    print(tu)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">the_tuple = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">coo(<span class="string">'cool'</span>, *the_tuple)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar</span><span class="params">(name, price, desc)</span>:</span></span><br><span class="line">    print(<span class="string">"name:%s,price:%s,desc:%s"</span> % (name, price, desc))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">book = &#123;<span class="string">'name'</span>: <span class="string">'python'</span>, <span class="string">'price'</span>: <span class="number">20</span>, <span class="string">'desc'</span>: <span class="string">'this is desc'</span>&#125;</span><br><span class="line">bar(**book)</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">参数的传递 参数传递传入的是变量的复制 </span></span><br><span class="line"><span class="string">1.对于不可变变量  函数内对变量参数修改无影响</span></span><br><span class="line"><span class="string">2.对于可变变量 列表和字典 参数复制的是变量地址 改变参数变量影响传入的变量</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>
<h5 id="函数变量的作用域"><a href="#函数变量的作用域" class="headerlink" title="函数变量的作用域"></a>函数变量的作用域</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">变量作用域</span></span><br><span class="line"><span class="string">函数内定义的变量 局部变量 作用在函数体内</span></span><br><span class="line"><span class="string">函数外 全局范围定义的变量 全局变量 所有函数内可以访问</span></span><br><span class="line"><span class="string"> globals()：获取全局变量 修改会产生影响</span></span><br><span class="line"><span class="string"> locals()：当前范围的全部变量 局部或者全局 看当前范围</span></span><br><span class="line"><span class="string"> vars(object):指定对象范围的所有变量 不指定object作用同locals</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">()</span>:</span></span><br><span class="line">    age = <span class="number">20</span></span><br><span class="line">    print(locals())</span><br><span class="line">    print(globals())</span><br><span class="line">    locals()[<span class="string">'age'</span>] = <span class="number">12</span></span><br><span class="line">    print(age)</span><br><span class="line">    print(locals())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">x = <span class="number">15</span></span><br><span class="line">test()</span><br><span class="line">globals()[<span class="string">'x'</span>] = <span class="number">18</span></span><br><span class="line">print(x)</span><br><span class="line">locals()[<span class="string">'x'</span>] = <span class="number">20</span></span><br><span class="line">print(x)</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">局部变量 屏蔽全局变量</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">name = <span class="string">"haha"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_name</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"name is:"</span>, name)</span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">     引起错误 这是定义了一个name局部变量 而上面的print语句的name变成了局部变量</span></span><br><span class="line"><span class="string">     认为name为未定义，local variable 'name' referenced before assignment</span></span><br><span class="line"><span class="string">     '''</span></span><br><span class="line">    <span class="comment"># name="july"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print_name()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 解决办法1 globals</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_name_one</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"name is:"</span>, globals()[<span class="string">'name'</span>])</span><br><span class="line">    name = <span class="string">"july"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print_name_one()</span><br><span class="line">print(name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 解决办法2 函数中声明全局变量 global</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_name_two</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 声明name是全局变量 不重新定义局部变量</span></span><br><span class="line">    <span class="keyword">global</span> name</span><br><span class="line">    print(<span class="string">'name is:'</span>, name)</span><br><span class="line">    name = <span class="string">'july'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print_name_two()</span><br><span class="line">print(name)</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">局部函数  函数内定义函数 默认不对外可见</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">math_fun</span><span class="params">(t, num)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(k)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * k</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">multi</span><span class="params">(k)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> k * k</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> t == <span class="string">'a'</span>:</span><br><span class="line">        <span class="keyword">return</span> add(num)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> multi(num)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(math_fun(<span class="string">'a'</span>, <span class="number">10</span>))</span><br><span class="line">print(math_fun(<span class="string">'m'</span>, <span class="number">10</span>))</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">局部函数内的变量也会屏蔽外层函数的局部变量</span></span><br><span class="line"><span class="string">nonlocal 声明访问的是外层函数的变量</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></span><br><span class="line">    age = <span class="number">15</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bar</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">nonlocal</span> age</span><br><span class="line">        print(age)</span><br><span class="line">        age = <span class="number">66</span></span><br><span class="line"></span><br><span class="line">    bar()</span><br><span class="line">    print(<span class="string">"out age:"</span>, age)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">foo()</span><br></pre></td></tr></table></figure>
<h5 id="函数的用法和lambda表达式"><a href="#函数的用法和lambda表达式" class="headerlink" title="函数的用法和lambda表达式"></a>函数的用法和lambda表达式</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">函数本身是一个对象 function</span></span><br><span class="line"><span class="string">可用于赋值 作为返回值 函数的参数使用</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 赋值</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(a, b)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(type(add))</span><br><span class="line">the_add = add</span><br><span class="line">print(type(the_add))</span><br><span class="line">print(the_add(<span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 作为参数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mult_self</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> n * n</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">(b, fun)</span>:</span></span><br><span class="line">    result = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> b:</span><br><span class="line">        result.append(fun(i))</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a_list = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, ]</span><br><span class="line">print(test(a_list, mult_self))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 作为返回值</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_add_fun</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_self</span><span class="params">(n)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> n + n</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> add_self</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">my_f = get_add_fun()</span><br><span class="line">print(my_f(<span class="number">13</span>))</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">lambda 表达式 只能是当行表达式</span></span><br><span class="line"><span class="string">格式:lambda [parameter_list]:表达式 参数列表多个 逗号隔开 表达式为返回值</span></span><br><span class="line"><span class="string">本质是匿名的 单行函数体的函数</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_add_l_fun</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">lambda</span> n: n + n</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">my_f_s = get_add_l_fun()</span><br><span class="line">print(my_f_s(<span class="number">18</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用内置 map函数</span></span><br><span class="line">x = map(<span class="keyword">lambda</span> a: a * a, range(<span class="number">5</span>))</span><br><span class="line">print([e <span class="keyword">for</span> e <span class="keyword">in</span> x])</span><br></pre></td></tr></table></figure>
</div><iframe src="/donate/?AliPayQR=/img/aliPay.png&amp;WeChatQR=/img/wxPay.png&amp;GitHub=undefined&amp;BTCQR=undefined&amp;BTCKEY=undefined&amp;PayPal=undefined" style="overflow-x:hidden; overflow-y:hidden; border:0xp none #fff; min-height:240px; width:100%;" frameborder="0" scrolling="no"></iframe><div class="tags"><a href="/tags/Python/">Python</a></div><div class="post-nav"><a class="pre" href="/2019/09/19/python-base05/">Python基础-类和对象</a><a class="next" href="/2019/09/08/python-base03/">Python基础-流程控制</a></div><div id="container"></div><link rel="stylesheet" href="/css/default.css?v=0.0.0"><script src="/js/gitment.browser.js?v=0.0.0"></script><script>var gitment = new Gitment({
  owner: 'FORKX',
  repo: 'FORKX.github.io',
  oauth: {
    client_id: 'b6534b40d765e60c36a6',
    client_secret: '2df2444d913cbef588b907acde9a74ed3e521ef1',
  },
})
gitment.render('container')
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构/">数据结构</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/">设计模式</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/随笔/" style="font-size: 15px;">随笔</a> <a href="/tags/数据结构-算法/" style="font-size: 15px;">数据结构 算法</a> <a href="/tags/反射/" style="font-size: 15px;">反射</a> <a href="/tags/设计模式/" style="font-size: 15px;">设计模式</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/spring-boot/" style="font-size: 15px;">spring boot</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/09/24/python-base08/">Python基础-模块和包</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/23/python-base07/">Python基础-类的特殊方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/21/python-base06/">Python基础-异常处理</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/19/python-base05/">Python基础-类和对象</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/09/python-base04/">Python基础-函数和lambda表达式</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/08/python-base03/">Python基础-流程控制</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/06/python-base02/">Python基础-序列和字典</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/05/python-base01/">Python 基础-变量和简单类型</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/02/design-patterns21/">设计模式—解释器模式、享元模式、桥梁模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/02/design-patterns20/">设计模式—状态模式</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">FORKX.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.  </a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>